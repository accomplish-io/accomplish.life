
<p>Dashboard View</p>

<button class="btn btn-primary" ng-click="vm.test()">Test Things</button>
<!-- Modal Trigger -->
<div>---------------------</div>
<div class="col">
    <a class='btn' data-target='newGoalModal' modal>Add a goal</a>
</div>

<div ng-repeat="goal in vm.goals | filter:{complete: false, GoalId: null}">
  <div class="collapsible-header" style="padding-right: 0px">
    <ul ng-click='vm.toggleSubs(goal)' class="collection with-header">
      <li class="collection-header">
        <input ng-click="vm.completeGoal(goal)" type="checkbox" id="{{goal.id}}" ng-checked="{{goal.complete}}"/>
        <label for="{{goal.id}}" style="display: initial;">{{goal.goalName}}</label>
        <a ><i class="right material-icons" style="margin: 0px 15px 0px 0px;">settings</i></a>
      </li>
      <div ng-show={{goal.subsDisplayed}}>
        <div ng-repeat="sub in vm.goals | filter: {GoalId: goal.id}">
          <li class="collection-item">{{sub.goalName}}</li>
        </div>
      </div>
    </ul>
  </div>
</div>
<br>
<hr>
<br>
<h3>Completed</h3>
<div ng-repeat="goal in vm.goals | filter:{complete: true, GoalId: null}">
  <div class="collapsible-header" style="padding-right: 0px">
    <ul class="collection with-header">
      <li class="collection-header">
        <input type="checkbox" id="{{goal.id}}" ng-checked="{{goal.complete}}" disabled="disabled" />
        <label for="{{goal.id}}" style="display: initial;">{{goal.goalName}}</label>
        <a ><i class="right material-icons" style="margin: 0px 15px 0px 0px;">settings</i></a>
      </li>
      <div ng-repeat="sub in vm.goals | filter: {GoalId: goal.id}">
        <li class="collection-item">{{sub.goalName}}</li>
      </div>
    </ul>
  </div>
</div>

<!-- Modal Structure -->

<div id="newGoalModal" class="modal">
  <div class="modal-content">
    <div class="row">
      <form ng-submit="vm.addGoal()">
        <div class="row">
          <div class="input-field">
            <input ng-model="vm.goal" placeholder="Add a New Goal" required>
          </div>
          </div>
      </form>
   </div>
  </div>
</div>